<!DOCTYPE html>
<html>
<head>
	<title>Box-Sphere | Goblin Physics</title>

	<link rel="stylesheet" type="text/css" href="css/styles.css"/>
	<link rel="stylesheet" type="text/css" href="css/mocha.css"/>
	<script type="text/javascript" src="js/chai.js"></script>
	<script type="text/javascript" src="js/mocha.js"></script>
	<script type="text/javascript" src="../lib/three.min.js"></script>
	<script type="text/javascript" src="../lib/gl-matrix-min.js"></script>
	<script type="text/javascript" src="../build/goblin.js"></script>
	<script type="text/javascript" src="js/testUtils.js"></script>

	<script type="text/javascript">
		mocha.ui('bdd');
		var assert = (typeof chai !== "undefined" && chai !== null ? chai.assert : void 0) || require('chai').assert;
		window.onload = function() {
			testUtils.initialize(); // Creates Three.js renderer & GoblinPhysics world

			(function(){
				var box = testUtils.createBox( 0.5, 0.5, 0.5, 0 ),
					sphere = testUtils.createSphere( 1, 1 );
				sphere.goblin.position[1] = 5;

				setTimeout(
					function() {
						Goblin.EPSILON = 0.05;

						describe('Collision Results', function(){
							it('Sphere Position', function(){
								return assert( testUtils.withinEpsilon( sphere.goblin.position[1], 1.5 ) );
							});
						});

						mocha.run();
					},
					2000
				);
			})();

			testUtils.run();
		};
	</script>
</head>

<body>
	<div id="mocha"></div>
</body>
</html>